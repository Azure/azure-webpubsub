"use strict";(globalThis.webpackChunkgithub_pages=globalThis.webpackChunkgithub_pages||[]).push([[6800],{312(e,t,a){a.d(t,{A:()=>c});var s,l,n=a(6540);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},i.apply(null,arguments)}const r=({title:e,titleId:t,...a})=>n.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-labelledby":t},a),void 0===e?n.createElement("title",{id:t},"ExternalLink"):e?n.createElement("title",{id:t},e):null,s||(s=n.createElement("path",{fill:"none",d:"M0 0h16v16H0z"})),l||(l=n.createElement("path",{d:"M12 13H4a1 1 0 0 1-1-1V4a1 1 0 0 0-2 0v8a3 3 0 0 0 3 3h8a1 1 0 0 0 0-2m2.924-11.381A1 1 0 0 0 14 1H8.5a1 1 0 0 0 0 2h3.086L5.293 9.293a1 1 0 0 0 1.414 1.414L13 4.414V7.5a1 1 0 0 0 2 0V2a1 1 0 0 0-.076-.381"})));var o=a(4848);const c=function({to:e,text:t="here",openInNewTab:a=!0}){return(0,o.jsxs)("a",{href:e,className:"font-bold text-blue-600 hover:underline",target:a?"_blank":"",children:[t,(0,o.jsx)(r,{className:"icon_inline"})]})}},773(e,t,a){a.d(t,{A:()=>l});a(6540);var s=a(4848);const l=function({imgURL:e,ariaInfo:t="an image"}){return(0,s.jsx)("div",{className:"overflow-hidden pr-2 pb-2",children:(0,s.jsx)("img",{src:e,className:"block w-[95%] rounded-2xl border border-gray-100 p-2 shadow-sm","aria-label":t})})}},1702(e,t,a){a.d(t,{A:()=>l});a(6540);var s=a(4848);const l=function({text:e,to:t,children:a,openInNewTab:l=!0,tabIndex:n=0,ariaLabel:i=""}){return e=e.replace(/ /g,"\xa0"),(0,s.jsxs)("a",{href:t,target:l?"_blank":"",className:"absolute bottom-4 flex items-center font-semibold justify-center rounded-sm bg-blue-600 px-5 py-2 text-sm text-gray-100 hover:bg-blue-700 gap-2 hover:text-gray-100",tabIndex:n,"aria-label":i,role:"button",children:[a&&(0,s.jsx)("div",{className:"w-5",children:a}),(0,s.jsx)("div",{children:e})]})}},4128(e,t,a){a.d(t,{A:()=>l});a(6540);var s=a(4848);const l=function(){return(0,s.jsx)("div",{children:"No additional resources for this sample application"})}},5486(e,t,a){a.d(t,{A:()=>i});var s,l=a(6540);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},n.apply(null,arguments)}const i=({title:e,titleId:t,...a})=>l.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048","aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,s||(s=l.createElement("path",{d:"M1024 25q141 0 272 36t244 104 207 160 161 207 103 245 37 272q0 165-50 318t-143 281-221 224-286 149q-3 1-9 1t-9 1q-24 0-38-14t-14-37v-140q0-69 1-141 0-51-15-103t-54-87q116-13 203-47t146-96 88-150 30-212q0-78-26-147t-79-128q11-28 16-58t5-60q0-39-8-77t-23-76q-5-2-11-2t-11 0q-32 0-67 10t-69 26-67 35-57 36q-125-35-256-35t-256 35q-25-17-57-36t-66-34-70-26-67-11h-11q-6 0-11 2-14 37-22 75t-9 78q0 30 5 60t16 58q-53 58-79 127t-26 148q0 122 29 211t88 150 146 97 203 48q-29 26-44 62t-21 75q-27 13-57 20t-60 7q-64 0-106-30t-75-82q-12-19-29-38t-37-34-43-24-48-10h-12q-8 0-15 3t-14 6-6 10q0 12 14 23t23 18l3 2q22 17 38 32t30 33 23 38 23 47q34 78 95 113t147 36q26 0 52-3t52-9v174q0 24-14 38t-39 14h-8q-5 0-9-2-157-51-286-147t-221-225-142-282-51-318q0-141 36-272t104-244 160-207 207-161T752 62t272-37"})))},5920(e,t,a){a.d(t,{A:()=>r});var s=a(6540),l=a(3616),n=a(3760),i=a(4848);const r=function({overview:e,local:t,deploy:a,resources:r}){const[o,c]=s.useState("overview");return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mb-8 w-full overflow-visible",style:{margin:"20px"},children:(0,i.jsxs)(l.f,{"aria-label":"Details about the demo",selectedKey:o,onLinkClick:e=>{e&&c(e.props.itemKey)},headersOnly:!0,children:[e&&(0,i.jsx)(n.y,{headerText:"Overview",itemKey:"overview"}),t&&(0,i.jsx)(n.y,{headerText:"Run locally",itemKey:"local"}),a&&(0,i.jsx)(n.y,{headerText:"One-click deploy to Azure",itemKey:"deploy"}),r&&(0,i.jsx)(n.y,{headerText:"Resources",itemKey:"resources"})]})}),(0,i.jsxs)("div",{className:"font-sans font-light",children:["overview"===o&&e,"local"===o&&t,"deploy"===o&&a,"resources"===o&&r]})]})}},6177(e,t,a){a.d(t,{A:()=>h});var s,l=a(6540);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},n.apply(null,arguments)}const i=({title:e,titleId:t,...a})=>l.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18","aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,s||(s=l.createElement("path",{fillRule:"evenodd",d:"M6.268.726h5.49a1.25 1.25 0 0 1 1.183.85l4.742 14.05a1.25 1.25 0 0 1-1.184 1.649h-5.352v-.005a1 1 0 0 1-.112.005h-.02a1.25 1.25 0 0 1-.745-.247L6.78 14.437l-.671 1.988a1.25 1.25 0 0 1-1.183.85H1.5a1.25 1.25 0 0 1-1.184-1.649L5.06 1.576a1.25 1.25 0 0 1 1.184-.85ZM5.787 12.53l5.041 3.745a.3.3 0 0 0 .187.062h.02a.312.312 0 0 0 .296-.412L8.777 8.358l-1.022 2.644-.116.3H4.152Zm10.712 3.807h-4.254a1.24 1.24 0 0 0-.026-.712L7.506 1.662h4.251a.31.31 0 0 1 .296.213l4.742 14.05a.312.312 0 0 1-.296.413"}))),r=a.p+"assets/images/blade_outputs-b973dfc21e9e1279891c6105e275de59.jpg";var o=a(1702),c=a(773),d=a(7321),u=a(4848);const h=function({to:e}){return(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-4xl",children:"One-click deploy to Azure"}),(0,u.jsx)(d.A,{children:(0,u.jsx)("p",{children:"Deploy this demo app to Azure with one single click. Note that you will need an Azure account."})}),(0,u.jsx)(o.A,{text:"Deploy to Azure",to:e,children:(0,u.jsx)(i,{className:"lightIcon"})}),(0,u.jsx)("h2",{className:"mt-12 text-4xl",children:"Visit your live demo"}),(0,u.jsx)(d.A,{children:(0,u.jsxs)("p",{children:["Once the resources are provisioned, you can find ",(0,u.jsx)("code",{children:"Outputs"})," on the side bar. Open the link in your browser."]})}),(0,u.jsx)(c.A,{imgURL:r,ariaInfo:"Blade outputs image",alt:"Blade outputs image"})]})}},6240(e,t,a){a.d(t,{s:()=>s});let s=[{language:"JavaScript",color:"#f1e05a"},{language:"C#",color:"#178600"},{language:"Python",color:"#3572A5"},{language:"Java",color:"#b07219"},{language:"Swift",color:"#F05138"},{language:"Kotlin",color:"#A97BFF"},{language:"Java",color:"#b07219"},{language:"HTML",color:"#e34c26"},{language:"CSS",color:"##563d7c"},{language:"SCSS",color:"#c6538c"}]},7119(e,t,a){a.d(t,{A:()=>c});var s=a(6540),l=a(7321),n=a(2083),i=a(4848);const r=function({text:e,language:t,title:a}){return(0,s.useEffect)(()=>{document.querySelectorAll('.copy-button-aria button[type="button"]').forEach(e=>{e.setAttribute("aria-label","Copy code to clipboard")})},[]),(0,i.jsxs)("div",{className:"copy-button-aria customized-copy-button",children:[a&&(0,i.jsx)("h5",{className:"font-bold",children:a}),(0,i.jsx)(n.Rc,{text:e,language:t,showLineNumbers:!0,codeBlock:!0,wrapLines:!0,theme:n.M}),(0,i.jsx)("style",{children:'\n            /* Improve Copy Button Contrast */\n            .mb-3 button[type="button"] {\n            background-color: #333 !important; /* Darker background for better contrast */\n            color: #fff !important;           /* White text/icon for maximum contrast */\n            border: 1px solid #ccc;           /* Light gray border for visibility */\n            padding: 6px 12px;                /* Comfortable padding */\n            border-radius: 4px;               /* Rounded edges for accessibility */\n            transition: background-color 0.2s ease-in-out;\n            }\n\n            /* Updated Focus State - Meets WCAG 3:1 contrast */\n            .customized-copy-button button[type="button"]:focus,\n            .customized-copy-button button[type="button"]:focus-visible {\n            outline: 3px solid #005A9C !important; /* Stronger contrast blue */\n            outline-offset: 4px !important;\n            box-shadow: 0 0 8px 3px rgba(0, 90, 156, 0.9) !important; /* Accessible blue glow */\n            }\n\n            /* Hover State - Improve visibility on hover */\n            .customized-copy-button button[type="button"]:hover {\n            background-color: #555 !important; /* Slightly lighter for contrast */\n            box-shadow: 0 0 6px 2px rgba(255, 184, 0, 0.8);\n            }\n\n            /* Active State - Ensure it\'s clearly visible when clicked */\n            .customized-copy-button button[type="button"]:active {\n            background-color: #777 !important;\n            }\n          '})]})};var o=a(312);const c=function({hub:e}){return(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{children:"Local development instruction"}),(0,i.jsx)("h2",{className:"text-4xl",children:"Prerequisites"}),(0,i.jsx)(l.A,{title:"To run this app locally, you will need the following",children:(0,i.jsxs)("ul",{className:"ml-5 list-disc ",children:[(0,i.jsx)("li",{className:"mt-0",children:"Node.js"}),(0,i.jsx)("li",{className:"mt-0",children:"Create an Azure Web PubSub resource"}),(0,i.jsxs)("li",{className:"mt-0",children:[(0,i.jsx)(o.A,{to:"https://learn.microsoft.com/azure/azure-web-pubsub/howto-web-pubsub-tunnel-tool",text:"awps-tunnel"})," to tunnel traffic from Web PubSub to your localhost"]})]})}),(0,i.jsx)("h2",{className:"mb-5 mt-10 text-4xl",children:"Install dependencies"}),(0,i.jsx)(r,{text:"npm install",language:"shell"}),(0,i.jsx)("h2",{className:"mb-5 mt-10 text-4xl",children:"Start the app"}),(0,i.jsx)(r,{text:'export WebPubSubConnectionString="<connection_string>"\n  node server',language:"javascript",title:"Linux"}),(0,i.jsx)(r,{text:'set WebPubSubConnectionString="<connection_string>"\n  node server',language:"javascript",title:"Windows"}),e&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("h2",{className:"mb-5 mt-10 text-4xl",children:["Use ",(0,i.jsx)("code",{children:"awps-tunnel"})," to tunnel traffic from Web PubSub service to localhost"]}),(0,i.jsx)(l.A,{children:(0,i.jsxs)("p",{children:["Install and run ",(0,i.jsx)(o.A,{to:"https://learn.microsoft.com/azure/azure-web-pubsub/howto-web-pubsub-tunnel-tool",text:"awps-tunnel"}),":"]})}),(0,i.jsx)(r,{text:`awps-tunnel run --hub ${e} --upstream http://localhost:8080`,language:"shell"}),(0,i.jsx)("h2",{className:"mb-5 mt-10 text-4xl",children:"Configure the event handler"}),(0,i.jsx)(l.A,{children:(0,i.jsxs)("p",{children:["Event handler can be set from Azure Portal or through Azure CLI.\xa0",(0,i.jsx)(o.A,{to:"https://docs.microsoft.com/en-us/azure/azure-web-pubsub/howto-develop-eventhandler",text:"Here"}),"contains the detailed instructions of how to set it up."]})})]})]})}},7321(e,t,a){a.d(t,{A:()=>l});a(6540);var s=a(4848);const l=function({title:e,children:t,level:a=2}){const l=`h${Math.min(Math.max(a,2),6)}`;return(0,s.jsxs)("div",{className:"mt-5 mb-2",children:[(0,s.jsx)(l,{className:"mb-1 font-sans font-semibold text-lg",children:e}),t]})}},7883(e,t,a){a.d(t,{X:()=>s});let s=[{id:1,title:"Simple chat app",description:"A simple real-time chat app demonstrating the use of JavaScript server SDK",languages:[],detailURL:"demos/chat",thumbnailURL:"img/thumbnails/chat_abstract.jpeg",githubRepo:"https://github.com/Azure/azure-webpubsub/tree/main/samples/javascript/chatapp",buttonAriaLabel:"View details for simple chat app",deployLink:"https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Flivedemopackages.z13.web.core.windows.net%2Ftemplate%2Fchatapp-containerapp-deploy.json"},{id:2,title:"Collaborative whiteboard",description:"Multi-user drawing on a shared whiteboard, built with Node.js",languages:[],detailURL:"demos/whiteboard",thumbnailURL:"img/thumbnails/whiteboard.jpeg",githubRepo:"https://github.com/Azure/azure-webpubsub/tree/main/samples/javascript/whiteboard",buttonAriaLabel:"View details for collaborative whiteboard",deployLink:"https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Flivedemopackages.z13.web.core.windows.net%2Ftemplate%2Fwhiteboard-containerapp-deploy.json"},{id:3,title:"Metaverse",description:"Multi-player experience in Metaverse (coming soon)",languages:[],detailURL:"demos/metaverse",thumbnailURL:"img/thumbnails/metaverse.jpeg",githubRepo:"",buttonAriaLabel:"View details for metaverse"},{id:4,title:"Code stream",description:"Real-time collaborative code editor",languages:[],detailURL:"demos/code-streaming",thumbnailURL:"img/thumbnails/code.png",githubRepo:"https://github.com/Azure/azure-webpubsub/tree/main/samples/javascript/codestream",buttonAriaLabel:"View detail of code stream",deployLink:"https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Flivedemopackages.z13.web.core.windows.net%2Ftemplate%2Fcodestream-containerapp-deploy.json"},{id:5,title:"Chatr",description:"Developed by Ben Coleman using Azure Web PubSub and other Azure technologies",languages:[],detailURL:"demos/chatr",thumbnailURL:"img/thumbnails/chat_closeup.jpeg",githubRepo:"https://github.com/Azure/azure-webpubsub/tree/main/samples/javascript/chatr",buttonAriaLabel:"View detail of Chatr"},{id:6,title:"Real-time scoreboard",description:"Push live game data from server to connected clients using Azure Web PubSub",languages:[],detailURL:"demos/scoreboard",thumbnailURL:"img/thumbnails/scoreboard.jpeg",githubRepo:"https://github.com/Azure/azure-webpubsub/tree/main/samples/javascript/scoreboard",deployLink:"https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Flivedemopackages.z13.web.core.windows.net%2Ftemplate%2Fscoreboard-deploy.json",buttonAriaLabel:"View detail of real-time scoreboard"}]},9469(e,t,a){a.r(t),a.d(t,{assets:()=>f,contentTitle:()=>j,default:()=>A,frontMatter:()=>v,metadata:()=>s,toc:()=>w});const s=JSON.parse('{"id":"simple_chat_app","title":"Simple chat app","description":"A simple chat app","source":"@site/docs/simple_chat_app.mdx","sourceDirName":".","slug":"/chat","permalink":"/azure-webpubsub/demos/chat","draft":false,"unlisted":false,"editUrl":null,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"slug":"/chat","title":"Simple chat app","description":"A simple chat app","hide_title":true,"custom_edit_url":null},"sidebar":"tutorialSidebar","next":{"title":"Collaborative whiteboard","permalink":"/azure-webpubsub/demos/whiteboard"}}');var l=a(4848),n=a(8453),i=(a(6540),a(9786)),r=a(5920),o=a(7321),c=a(7119),d=a(6177),u=a(4128);const h=a(7883).X.find(e=>"demos/chat"===e.detailURL),p=h.languages,m=h.githubRepo,b=h.deployLink;function x(){return(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-4xl",children:"Overview"}),(0,l.jsx)(o.A,{title:"About the app",children:(0,l.jsx)("p",{children:"A simple real-time chat app demonstrating the use of JavaScript server SDK provided by Azure Web PubSub"})}),(0,l.jsx)(o.A,{title:"Azure Web PubSub enables",children:(0,l.jsx)("ul",{className:"ml-5 list-disc leading-5",children:(0,l.jsx)("li",{className:"mt-0",children:"Simple real-time chat between server and client"})})}),(0,l.jsx)("h2",{className:"mt-12 text-4xl",children:"How it works?"}),(0,l.jsxs)(o.A,{title:"Server side",children:["Serve a static web page ",(0,l.jsx)("code",{children:"public/index.html"})," A REST API \xa0",(0,l.jsx)("code",{children:"/negotiate"})," which returns a url to connect to Web PubSub",(0,l.jsxs)("ul",{className:"ml-5 list-disc",children:[(0,l.jsxs)("li",{className:"mt-0",children:["A simple Express server that serves a static web page ",(0,l.jsx)("code",{children:"public/index.html"})]}),(0,l.jsxs)("li",{className:"mt-0",children:["A REST API ",(0,l.jsx)("code",{children:"/negotiate"})," which returns a url to connect to Web PubSub"]}),(0,l.jsxs)("li",{className:"mt-0",children:["Listens for an ",(0,l.jsx)("code",{children:"onConnected"})," event to broadcast the joining of chat participants."]}),(0,l.jsxs)("li",{className:"mt-0",children:["Listens for an ",(0,l.jsx)("code",{children:"message"})," event to broadcast a use's chat message to all participants in a hub."]})]})]}),(0,l.jsx)(o.A,{title:"Client side",children:(0,l.jsx)("ul",{className:"ml-5 list-disc",children:(0,l.jsxs)("li",{children:["Using WebSocket API to initiate a WebSocket connection and listen for an ",(0,l.jsx)("code",{children:"onmessage"})," event to render chat messages in the browser."]})})})]})}const g=function(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.A,{leftSrc:"https://awps-demos-client-chat.azurewebsites.net/fancy.html",rightSrc:"https://awps-demos-client-chat.azurewebsites.net/fancy.html",description:"Real-time chat app demo",width:"340",languages:p,githubURL:m}),(0,l.jsx)("div",{className:"max-w-full overflow-hidden",children:(0,l.jsx)(r.A,{overview:(0,l.jsx)(x,{}),local:(0,l.jsx)(c.A,{hub:"sample_chat"}),resources:(0,l.jsx)(u.A,{}),deploy:(0,l.jsx)(d.A,{to:b})})})]})},v={sidebar_position:1,slug:"/chat",title:"Simple chat app",description:"A simple chat app",hide_title:!0,custom_edit_url:null},j=void 0,f={},w=[];function y(e){return(0,l.jsx)(g,{})}function A(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(y,{...e})}):y()}},9782(e,t,a){a.d(t,{A:()=>n});a(6540);var s=a(6240),l=a(4848);const n=function({lang:e,percent:t}){let a=s.s.find(t=>t.language===e).color;return(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("div",{className:"h-2 w-2 rounded-full",style:{backgroundColor:a}}),(0,l.jsxs)("p",{className:"leading-3",children:[(0,l.jsx)("span",{className:"text-xs font-bold",children:e})," ",(0,l.jsxs)("span",{className:"text-xs",children:[t,"%"]})]})]})}},9786(e,t,a){a.d(t,{A:()=>c});a(6540);var s=a(9782),l=a(6240),n=a(4848);const i=function({languages:e}){return(0,n.jsxs)("div",{className:"my-4",children:[(0,n.jsx)("div",{className:"flex gap-10",children:e.map(e=>(0,n.jsx)(s.A,{lang:e.language,percent:e.percent},e.language))}),(0,n.jsx)("div",{className:"flex overflow-hidden rounded-full bg-gray-300",children:e.map(e=>{let t=l.s.find(t=>t.language===e.language).color;return(0,n.jsx)("div",{style:{backgroundColor:t,width:e.percent+"%"},className:"h-2 flex-auto"},e.language)})})]})};var r=a(1702),o=a(5486);const c=function({alert:e,leftSrc:t,rightSrc:a,description:s,languages:l,githubURL:c}){return(0,n.jsxs)("div",{className:"pattern-dots-sm mb-10 relative",children:[e&&(0,n.jsx)("p",{className:"bg-red-100 py-2 text-center font-bold text-red-900 ",children:e}),(0,n.jsxs)("div",{className:`flex flex-col items-center ${t&&a?"gap-6":"w-full"} py-4 drop-shadow-xl xl:flex-row`,children:[t&&(0,n.jsx)("div",{tabIndex:0,className:"iframe-focusable-wrapper h-[400px] w-full xl:h-[600px]",style:{display:"inline-block",width:"95%"},children:(0,n.jsx)("iframe",{src:t,title:s,tabIndex:-1,className:"h-[400px] w-full xl:h-[600px]"})}),a&&(0,n.jsx)("div",{tabIndex:0,className:"iframe-focusable-wrapper h-[400px] w-full xl:h-[600px]",style:{display:"inline-block",width:"95%"},children:(0,n.jsx)("iframe",{src:a,title:s,tabIndex:-1,className:"h-[400px] w-full xl:h-[600px]"})})]}),(0,n.jsxs)("div",{className:"flex flex-col xl:flex-row xl:items-center xl:justify-around mt-8",children:[(0,n.jsx)(r.A,{text:"View source",to:c,children:(0,n.jsx)(o.A,{className:"lightIcon"})}),(0,n.jsx)("div",{className:"w-[90%] xl:w-2/3",children:(0,n.jsx)(i,{languages:l})})]})]})}}}]);