<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Blog | Demos for Azure Web PubSub</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://azure.github.io/azure-webpubsub/blog"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="websocket, serverless, azure, web pubsub, service, realtime, messaging"><meta data-rh="true" property="og:title" content="Blog | Demos for Azure Web PubSub"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/azure-webpubsub/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://azure.github.io/azure-webpubsub/blog"><link data-rh="true" rel="alternate" href="https://azure.github.io/azure-webpubsub/blog" hreflang="en"><link data-rh="true" rel="alternate" href="https://azure.github.io/azure-webpubsub/blog" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"Blog","@id":"https://azure.github.io/azure-webpubsub/blog","mainEntityOfPage":"https://azure.github.io/azure-webpubsub/blog","headline":"Blog","description":"Blog","blogPost":[{"@type":"BlogPosting","@id":"https://azure.github.io/azure-webpubsub/blog/azure-web-pubsub-for-socketio-generally-available","mainEntityOfPage":"https://azure.github.io/azure-webpubsub/blog/azure-web-pubsub-for-socketio-generally-available","url":"https://azure.github.io/azure-webpubsub/blog/azure-web-pubsub-for-socketio-generally-available","headline":"Azure Web PubSub for Socket.IO is now generally available","name":"Azure Web PubSub for Socket.IO is now generally available","description":"TL;DR","datePublished":"2023-11-20T00:00:00.000Z","author":{"@type":"Person","name":"Kevin Guo","description":"Senior Product Manager","url":"https://github.com/kevinguo-ed","image":"https://avatars.githubusercontent.com/u/105208143?s=400&u=9fed0cb6d3e64908d9b6b7ae9e12dcb96a0e3882&v=4"},"keywords":[]},{"@type":"BlogPosting","@id":"https://azure.github.io/azure-webpubsub/blog/what_is_websocket_part2","mainEntityOfPage":"https://azure.github.io/azure-webpubsub/blog/what_is_websocket_part2","url":"https://azure.github.io/azure-webpubsub/blog/what_is_websocket_part2","headline":"What is WebSocket? (part 2/2)","name":"What is WebSocket? (part 2/2)","description":"Summary","datePublished":"2022-11-25T00:00:00.000Z","author":[{"@type":"Person","name":"Jialin Xin","description":"Senior Software Engineer","url":"https://github.com/JialinXin","image":"https://avatars.githubusercontent.com/u/15338714?v=4"},{"@type":"Person","name":"Kevin Guo","description":"Senior Product Manager","url":"https://github.com/kevinguo-ed","image":"https://avatars.githubusercontent.com/u/105208143?s=400&u=9fed0cb6d3e64908d9b6b7ae9e12dcb96a0e3882&v=4"}],"keywords":[]},{"@type":"BlogPosting","@id":"https://azure.github.io/azure-webpubsub/blog/what_is_websocket_part1","mainEntityOfPage":"https://azure.github.io/azure-webpubsub/blog/what_is_websocket_part1","url":"https://azure.github.io/azure-webpubsub/blog/what_is_websocket_part1","headline":"What is WebSocket? (part 1/2)","name":"What is WebSocket? (part 1/2)","description":"Summary","datePublished":"2022-11-14T00:00:00.000Z","author":[{"@type":"Person","name":"Jialin Xin","description":"Senior Software Engineer","url":"https://github.com/JialinXin","image":"https://avatars.githubusercontent.com/u/15338714?v=4"},{"@type":"Person","name":"Kevin Guo","description":"Senior Product Manager","url":"https://github.com/kevinguo-ed","image":"https://avatars.githubusercontent.com/u/105208143?s=400&u=9fed0cb6d3e64908d9b6b7ae9e12dcb96a0e3882&v=4"}],"keywords":[]},{"@type":"BlogPosting","@id":"https://azure.github.io/azure-webpubsub/blog/welcome","mainEntityOfPage":"https://azure.github.io/azure-webpubsub/blog/welcome","url":"https://azure.github.io/azure-webpubsub/blog/welcome","headline":"Welcome","name":"Welcome","description":"This is a site dedicated to showing developers what they can build with Azure Web PubSub through live demos. If a picture is worth a thousand words, a live demo is probably worth a lot more than that.","datePublished":"2022-06-29T00:00:00.000Z","author":{"@type":"Person","name":"Wanpeng Li","description":"Software Engineer II","url":"https://github.com/wanlwanl","image":"https://avatars.githubusercontent.com/u/38236089?v=4"},"keywords":[]}]}</script><link rel="alternate" type="application/rss+xml" href="/azure-webpubsub/blog/rss.xml" title="Demos for Azure Web PubSub RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/azure-webpubsub/blog/atom.xml" title="Demos for Azure Web PubSub Atom Feed"><link rel="stylesheet" href="/azure-webpubsub/assets/css/styles.d84ae496.css">
<script src="/azure-webpubsub/assets/js/runtime~main.19a0f77d.js" defer="defer"></script>
<script src="/azure-webpubsub/assets/js/main.9b3d99fd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","light"),document.documentElement.setAttribute("data-theme-choice","light"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/azure-webpubsub/"><div class="navbar__logo"><img src="/azure-webpubsub/img/azure_logo.png" alt="Azure Web PubSub Service" class="custom-navbar-logo-class themedComponent_mlkZ themedComponent--light_NVdE"><img src="/azure-webpubsub/img/azure_logo.png" alt="Azure Web PubSub Service" class="custom-navbar-logo-class themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/azure-webpubsub/demos/chat">Demos</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/azure-webpubsub/blog">Blog</a><a class="navbar__item navbar__link" href="/azure-webpubsub/contact_us">Contact Us</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2023</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure-webpubsub/blog/azure-web-pubsub-for-socketio-generally-available">Azure Web PubSub for Socket.IO is now generally available</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2022</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure-webpubsub/blog/what_is_websocket_part2">What is WebSocket? (part 2/2)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure-webpubsub/blog/what_is_websocket_part1">What is WebSocket? (part 1/2)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure-webpubsub/blog/welcome">Welcome</a></li></ul></div></nav></aside><main class="col col--7"><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/azure-webpubsub/blog/azure-web-pubsub-for-socketio-generally-available">Azure Web PubSub for Socket.IO is now generally available</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-11-20T00:00:00.000Z">November 20, 2023</time> ¬∑ <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/kevinguo-ed" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/105208143?s=400&amp;u=9fed0cb6d3e64908d9b6b7ae9e12dcb96a0e3882&amp;v=4" alt="Kevin Guo"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/kevinguo-ed" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp" translate="no">Kevin Guo</span></a></div><small class="authorTitle_nd0D" title="Senior Product Manager">Senior Product Manager</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><main><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="tldr"><strong>TL;DR</strong><a href="#tldr" class="hash-link" aria-label="Direct link to tldr" title="Direct link to tldr" translate="no">‚Äã</a></h2><p>Socket.IO library is natively supported on Azure.</p><p>Since we public previewed this feature, we received positive feedback from users. Now we are happy to share that Web PubSub for Socket.IO is generally available, which means that Azure customers can expect stable APIs, SLAs customer support and it‚Äôs suitable for use in production.</p><p><a href="https://learn.microsoft.com/azure/azure-web-pubsub/socketio-quickstart" target="_blank" rel="noopener noreferrer" class="">üîó<!-- --> Follow this quickstarts guide to try out the feature.</a></p><p><a href="https://github.com/Azure-Samples/socket.io-webapp-integration" target="_blank" rel="noopener noreferrer" class="">üîó<!-- --> Check out the repo of a collaborative whiteboard app that showcases the use of Socket.IO APIs and how Azure handles scalability challenges.</a></p><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="solve-scalability-issue-without-code-rewrite"><strong>Solve scalability issue without code rewrite</strong><a href="#solve-scalability-issue-without-code-rewrite" class="hash-link" aria-label="Direct link to solve-scalability-issue-without-code-rewrite" title="Direct link to solve-scalability-issue-without-code-rewrite" translate="no">‚Äã</a></h2><p>When we interviewed Socket.IO users, the challenge of scaling out Socket.IO servers came up repeatedly. It‚Äôs a challenge that can be met uniquely by Azure. With the input from Socket.IO users, it‚Äôs a challenge we aimed to solve when we public previewed the support for Socket.IO on Azure two months ago.</p><p>Developers can continue using the Socket.IO APIs they know and love and migrate to Azure seamless without code rewrite. The following shows what‚Äôs needed in the server-side and the client-side code to get a Socket.IO app running on Azure and instantly reap the benefits of Azure‚Äôs massive scale (million+ concurrent users).</p><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="introduce-additional-benefits-to-enterprise-level-applications"><strong>Introduce additional benefits to enterprise-level applications</strong><a href="#introduce-additional-benefits-to-enterprise-level-applications" class="hash-link" aria-label="Direct link to introduce-additional-benefits-to-enterprise-level-applications" title="Direct link to introduce-additional-benefits-to-enterprise-level-applications" translate="no">‚Äã</a></h2><p>Web PubSub for Socket.IO aims to address the scalability challenge Socket.IO developers face. Additionally, it offers enterprise-focused features.</p><ul>
<li class="">Cross-region replication to make your application more resilient by running in independent Azure regions</li>
<li class="">Custom domain to add an extra layer of security</li>
<li class="">Auto-scaling to dynamically scale up and down based on usage</li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="an-example-showing-how-easy-it-is-to-migrate-a-socketio-app-to-azure"><strong>An example showing how easy it is to migrate a Socket.IO app to Azure</strong><a href="#an-example-showing-how-easy-it-is-to-migrate-a-socketio-app-to-azure" class="hash-link" aria-label="Direct link to an-example-showing-how-easy-it-is-to-migrate-a-socketio-app-to-azure" title="Direct link to an-example-showing-how-easy-it-is-to-migrate-a-socketio-app-to-azure" translate="no">‚Äã</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="server-side-code"><strong>Server-side code</strong><a href="#server-side-code" class="hash-link" aria-label="Direct link to server-side-code" title="Direct link to server-side-code" translate="no">‚Äã</a></h3><p>Developers only need to call <code>useAzureSocketIO()</code> to set up the communication between this server and the cloud service. To Socket.IO users, the rest of the code should familiar as they are the APIs of Socket.IO library. These lines are included here for completeness of a working program.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">server.js</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token maybe-class-name">Server</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;socket.io&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> useAzureSocketIO </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;@azure/web-pubsub-socket.io&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> io </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Server</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Use the following line to integrate with Web PubSub for Socket.IO</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">useAzureSocketIO</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">io</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">hub</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Hub&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// The hub name can be any valid string.</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">connectionString</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;connection-string&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">io</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;connection&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">socket</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Sends a message to the client</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    socket</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">emit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;hello&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;world&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Receives a message from the client</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    socket</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;howdy&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">arg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Prints &quot;stranger&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="client-side-code"><strong>Client-side code</strong><a href="#client-side-code" class="hash-link" aria-label="Direct link to client-side-code" title="Direct link to client-side-code" translate="no">‚Äã</a></h3><p>The change to the client-side code is also minimal. Notice that we are using <code>socket.io-client</code> package and when initializing socket object, we set it up so that the Socket.IO client connects with the cloud service. The rest of the code is included for completeness of a working program.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">client.js</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> io </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;socket.io-client&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> socket </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">io</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;&lt;web-pubsub-socketio-endpoint&gt;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">path</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/clients/socketio/hubs/Hub&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Receives a message from the server</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">socket</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;hello&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">arg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Sends a message to the server</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">socket</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">emit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;howdy&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;stranger&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-does-it-work"><strong>How does it work?</strong><a href="#how-does-it-work" class="hash-link" aria-label="Direct link to how-does-it-work" title="Direct link to how-does-it-work" translate="no">‚Äã</a></h2><p>As you can see from the code snippets, both the Socket.IO client and Socket.IO server establish a connection with a cloud service. The benefit of having a cloud service to facilitate the communication between the two is that it reduces the load on your Socket.IO server and removes to the need to worry about what if ‚ÄúI need to send messages to 1000+ clients‚Äù. All that‚Äôs required is the same `socket.emit()`` call. The cloud service, which maintains persistent connections with your Socket.IO clients, fans out the message to all the clients. Graphically, it looks like this.</p><p><img decoding="async" loading="lazy" alt="Architecture of Socket.IO managed by Azure" src="/azure-webpubsub/assets/images/typical-architecture-managed-socketio-467d864b66a7a799cc57abd245587796.jpg" width="1152" height="648" class="img_ev3q"></p><p>You can read more about how it works behind the scenes <a href="https://learn.microsoft.com/azure/azure-web-pubsub/socketio-service-internal" target="_blank" rel="noopener noreferrer" class="">üîó<!-- --> by reading the article</a>.</p><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="now-generally-available"><strong>Now generally available.</strong><a href="#now-generally-available" class="hash-link" aria-label="Direct link to now-generally-available" title="Direct link to now-generally-available" translate="no">‚Äã</a></h2><p>Since public preview, we received positive feedback from developers and now we are happy to share that this feature is generally available and suitable for use in production. Besides stable APIs and SLA guarantees, developers can have full support through Azure‚Äôs ticket system.</p><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="resources-and-references"><strong>Resources and references</strong><a href="#resources-and-references" class="hash-link" aria-label="Direct link to resources-and-references" title="Direct link to resources-and-references" translate="no">‚Äã</a></h2><ul>
<li class=""><a href="https://socket.io/" target="_blank" rel="noopener noreferrer" class="">üîó<!-- --> Socket.IO library documentation</a></li>
<li class=""><a href="https://learn.microsoft.com/azure/azure-web-pubsub/socketio-quickstart" target="_blank" rel="noopener noreferrer" class="">üîó<!-- --> Quickstarts to migrate an existing Socket.IO app on Azure</a></li>
<li class=""><a href="https://learn.microsoft.com/azure/azure-web-pubsub/socketio-service-internal" target="_blank" rel="noopener noreferrer" class="">üîó<!-- --> Internal: how does Azure solve the scalability challenge for Socket.IO developers</a></li>
</ul></main></div></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/azure-webpubsub/blog/what_is_websocket_part2">What is WebSocket? (part 2/2)</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-11-25T00:00:00.000Z">November 25, 2022</time> ¬∑ <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/JialinXin" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/15338714?v=4" alt="Jialin Xin"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/JialinXin" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp" translate="no">Jialin Xin</span></a></div><small class="authorTitle_nd0D" title="Senior Software Engineer">Senior Software Engineer</small><div class="authorSocials_rSDt"></div></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/kevinguo-ed" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/105208143?s=400&amp;u=9fed0cb6d3e64908d9b6b7ae9e12dcb96a0e3882&amp;v=4" alt="Kevin Guo"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/kevinguo-ed" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp" translate="no">Kevin Guo</span></a></div><small class="authorTitle_nd0D" title="Senior Product Manager">Senior Product Manager</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><main><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary"><strong>Summary</strong><a href="#summary" class="hash-link" aria-label="Direct link to summary" title="Direct link to summary" translate="no">‚Äã</a></h2><p>This article is the second of a two-part series that describes the values of WebSocket on a high-level.</p><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="quick-links"><strong>Quick links</strong><a href="#quick-links" class="hash-link" aria-label="Direct link to quick-links" title="Direct link to quick-links" translate="no">‚Äã</a></h2><p>Explore a few live apps built with <strong><a href="https://learn.microsoft.com/en-us/azure/azure-web-pubsub/overview" target="_blank" rel="noopener noreferrer" class="">üîó<!-- --> Web PubSub</a></strong>, a fully managed WebSocket service from Azure.</p><p><a href="https://azure.github.io/azure-webpubsub/demos/chat" target="_blank" rel="noopener noreferrer" class="">üîó<!-- --> A simple chat app</a><br>
<a href="https://azure.github.io/azure-webpubsub/demos/whiteboard" target="_blank" rel="noopener noreferrer" class="">üîó<!-- --> A collaborative whiteboard app</a></p><blockquote>
<p><strong>Definition</strong></p>
<p>WebSocket gives developers a <strong><em>bidirectional</em></strong>, <strong><em>full-duplex</em></strong> communication channels over HTTP through a single TCP connection</p>
</blockquote><ul>
<li class=""></li>
</ul><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="full-duplex"><strong>Full-duplex</strong><a href="#full-duplex" class="hash-link" aria-label="Direct link to full-duplex" title="Direct link to full-duplex" translate="no">‚Äã</a></h2><p>To put it simply, ‚Äúfull-duplex‚Äù means that data can be transmitted at the same time in both directions. Like ‚Äúbidirectional‚Äù we just talked about, full-duplex is also about two things, two entities, but full-duplex is more about the <strong>TIMING</strong> of sending data.</p><p>A phone call is considered full-duplex because both the caller and the receiver can send voice data to each other at the same time.</p><p>A walkie-talkie is considered half-duplex because at one time only one person can send voice data. The participants take turns to speak.</p><p><img decoding="async" loading="lazy" alt="Picture of a walkie-talkie" src="/azure-webpubsub/assets/images/walkie_talkie-86467d9c47386511657e759425999a3f.jpg" width="500" height="500" class="img_ev3q"></p><p>The web before WebSocket was largely half-duplex. The client opens a communication channel and requests a resource through this channel from a remote server. It waits for the server to return the requested resource. While the client waits, it cannot send data through the same channel. Also, while the server is sending data, the client cannot request resource through the same channel, much like how we communicate with a walkie-talkie.</p><p>Imagine if you are talking with your grandma using a walkie-talkie and you ask ‚ÄúGrandma, what‚Äôs like when you were growing up in the countryside?‚Äù Grandma presses the ‚ÄúTalk button‚Äù and she starts from the Great Depression, World War 1 and on with World War 2‚Ä¶ While grandma paints the scene of her storied life, teasing grandma by completing the stories for her is not an option. Your only option? Listen on. (No grandmas were hurt in telling this joke.)</p><p><img decoding="async" loading="lazy" alt="Picture of a grandma and her granddaughter" src="/azure-webpubsub/assets/images/grandma-4f69b67909e231a6b983953601b687c2.jpg" width="703" height="459" class="img_ev3q"></p><p>The walkie-talkie style of the early web was fine when communication was largely infrequent requests for resources from client to server. For web applications with interactive experience, like a collaborative document or a collaborative design application, users could be making changes at the same time and to have a smooth real-time editing experience, the changes need to be reflected on users‚Äô screens as soon as they are made. The trusty HTTP protocol, being an inherently half-duplex communication model, cannot meet the new requirements without resorting to some workarounds. Hacks no more! WebSocket brings native full-duplex communication to the web.</p><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="to-conclude"><strong>To conclude</strong><a href="#to-conclude" class="hash-link" aria-label="Direct link to to-conclude" title="Direct link to to-conclude" translate="no">‚Äã</a></h2><p>‚ÄúBidirectional‚Äù and ‚Äúfull-duplex‚Äù are the two value propositions WebSocket offers to developers and it has enabled a myriad of new interesting experience on the web, multi-player gaming, online auction, real-time collaborative apps and online chatting, to name a few. And the best of it all, it does not take much to add these real-time capabilities to your applications.
<img decoding="async" loading="lazy" alt="Some scenarios that can be enabled by WebSocket" src="/azure-webpubsub/assets/images/scenarios-eab60a0b5a645c27b355710a716872ad.jpg" width="961" height="557" class="img_ev3q"></p><p><strong>Credits:</strong><br>
<!-- -->The walkie-talkie and the grandma photographs were taken by <strong><a href="https://www.pexels.com/@cottonbro/" target="_blank" rel="noopener noreferrer" class="">üîó<!-- --> cottonbro studio</a></strong>.</p></main></div></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/azure-webpubsub/blog/what_is_websocket_part1">What is WebSocket? (part 1/2)</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-11-14T00:00:00.000Z">November 14, 2022</time> ¬∑ <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/JialinXin" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/15338714?v=4" alt="Jialin Xin"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/JialinXin" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp" translate="no">Jialin Xin</span></a></div><small class="authorTitle_nd0D" title="Senior Software Engineer">Senior Software Engineer</small><div class="authorSocials_rSDt"></div></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/kevinguo-ed" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/105208143?s=400&amp;u=9fed0cb6d3e64908d9b6b7ae9e12dcb96a0e3882&amp;v=4" alt="Kevin Guo"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/kevinguo-ed" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp" translate="no">Kevin Guo</span></a></div><small class="authorTitle_nd0D" title="Senior Product Manager">Senior Product Manager</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><main><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary"><strong>Summary</strong><a href="#summary" class="hash-link" aria-label="Direct link to summary" title="Direct link to summary" translate="no">‚Äã</a></h2><p>This article is the first of a two-part series that describes the values of WebSocket on a high-level.</p><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="quick-links"><strong>Quick links</strong><a href="#quick-links" class="hash-link" aria-label="Direct link to quick-links" title="Direct link to quick-links" translate="no">‚Äã</a></h2><p>Explore a few live apps built with <strong><a href="https://learn.microsoft.com/en-us/azure/azure-web-pubsub/overview" target="_blank" rel="noopener noreferrer" class="">üîó<!-- --> Web PubSub</a></strong>, a fully managed WebSocket service from Azure.</p><p><a href="https://azure.github.io/azure-webpubsub/demos/chat" target="_blank" rel="noopener noreferrer" class="">üîó<!-- --> A simple chat app</a><br>
<a href="https://azure.github.io/azure-webpubsub/demos/whiteboard" target="_blank" rel="noopener noreferrer" class="">üîó<!-- --> A collaborative whiteboard app</a></p><blockquote>
<p><strong>Definition</strong></p>
<p>WebSocket gives developers a <strong><em>bidirectional</em></strong>, <strong><em>full-duplex</em></strong> communication channels over HTTP through a single TCP connection</p>
</blockquote><ul>
<li class=""></li>
</ul><p>Let us unpack this loaded sentence together and try to understand the italicized words (technical jargon).</p><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="bidirectional"><strong>Bidirectional</strong><a href="#bidirectional" class="hash-link" aria-label="Direct link to bidirectional" title="Direct link to bidirectional" translate="no">‚Äã</a></h2><p>The prefix ‚Äúbi-‚Äú means two of something. We have bicycles, two wheels. We have bifold doors, the fancy doors with two folds. In the context of computer networking, no surprise here, bidirectional means two directions.</p><p><img decoding="async" loading="lazy" alt="Picture of a bicycle, bi-fold doors and bi-directional communication in computer networking" src="/azure-webpubsub/assets/images/bidirectional-d4131451fdab99c761d3086d7e7efb70.jpg" width="407" height="1022" class="img_ev3q"></p><p>However, to truly understand the significance of it, we will need to talk about the interaction between applications running on different computers on a network.¬† In a typical client and server model, the client sends an HTTP request. Once the server receives the request, it does some processing and returns an HTTP response. Most of the activities on the web can be simplified to this request and response interaction. For example, when we visit <a href="https://www.nytimes.com/" target="_blank" rel="noopener noreferrer" class="">www.nytimes.com</a>, the browser sends an HTTP request on the user‚Äôs behalf and waits for an HTTP response from its server.</p><p>What is relevant to our discussion here is that the client <strong>ALWAYS</strong> initiates the communication, in other words, the client always <em>asks</em> before the server <em>responds</em>. We can call this form of communication one-directional because the server cannot send data to clients that is not requested. This is the decision made by the designer of HTTP protocol, and this simple design is the technological backbone of the internet.</p><p><img decoding="async" loading="lazy" alt="Client makes request and server responds." src="/azure-webpubsub/assets/images/http-04c681a1ce589e7355f3a2ca430c5082.jpg" width="813" height="418" class="img_ev3q"></p><p>As the web welcomes more and more users, they are increasingly demanding more dynamic and interactive web experience. They want to track their ridesharing car without closing and reopening the app; they want to see the latest financial data, bid in an auction, collaborate on a document all without refreshing the browser all the time. A one-directional communication becomes inadequate in these scenarios. To enable these experiences, the web needs a way for server to send data to clients without client asking. Until WebSocket was standardized in 2008 and quickly supported by modern browsers, the web was unapologetically one-directional. With a bit of uneasiness and feeling cheating, software developers came up with workarounds to mimic bidirectional communication. Hacks no more! WebSocket brings native bi-directional communication to the web.</p><p><img decoding="async" loading="lazy" alt="WebSocket enables bi-directional communication" src="/azure-webpubsub/assets/images/websocket-723ad73776e4551687f3c4331aa77e32.jpg" width="813" height="157" class="img_ev3q"></p><p>In the second part, we will explore the idea of ‚Äúfull-duplex‚Äù.</p><hr><p><strong>Credits:</strong><br>
<!-- -->The bicycle photograph is taken by <strong><a href="https://www.pexels.com/@luftschnitzel/" target="_blank" rel="noopener noreferrer" class="">üîó<!-- --> Philipp M</a></strong>.<br>
<!-- -->The bi-fold door photograph is taken by <strong><a href="https://www.pexels.com/@sena-124356903/" target="_blank" rel="noopener noreferrer" class="">üîó<!-- --> sena</a></strong>.</p></main></div></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/azure-webpubsub/blog/welcome">Welcome</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-06-29T00:00:00.000Z">June 29, 2022</time> ¬∑ <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/wanlwanl" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/38236089?v=4" alt="Wanpeng Li"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/wanlwanl" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp" translate="no">Wanpeng Li</span></a></div><small class="authorTitle_nd0D" title="Software Engineer II">Software Engineer II</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><main><p>This is a site dedicated to showing developers what they can build with Azure Web PubSub through live demos. If a picture is worth a thousand words, a live demo is probably worth a lot more than that.</p><p>Azure Web PubSub is a cloud service that helps you build real-time messaging web applications using WebSockets and the publish-subscribe pattern easily. This real-time functionality allows publishing content updates between server and connected clients (for example a single page web application or mobile application). The clients do not need to poll the latest updates, or submit new HTTP requests for updates.</p><p>Check out the demos on the site and let us know what you think.</p></main></div></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div></div>
<script>document.addEventListener("keyup",e=>{if("Tab"===e.key){const e=document.querySelector(".navbar-sidebar__back");e&&(e.style.display="none")}if("Escape"===e.key){document.querySelector(".navbar-sidebar__close").click()}}),window.addEventListener("resize",()=>{const e=document.querySelector(".navbar-sidebar__back");e&&(e.style.display="none")})</script></body>
</html>